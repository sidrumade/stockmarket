{% extends 'index.html' %}


{% block title_block %}
    Display RecordType 'yes' to continue, or 'no' to cancel: yes

{% endblock %}

{% block script_block %}
{% endblock %}

{% block nav_block %}
    <a class="nav-link" aria-current="page" href="{% url 'tradehelper:tradecalculatorform' %}">TradeCalculator</a>
    <a class="nav-link" href="{% url 'traderecord:add_record_form' %}">AddRecords</a>
    <a class="nav-link active" href="{% url 'traderecord:display' %}">ViewRecords</a>
    {% if request.user.is_authenticated %}
        <li class="nav-item dropdown end-0">
            <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#" role="button"
               aria-expanded="false">{{ user.username }}</a>
            <ul class="dropdown-menu">
                <li><a class="dropdown-item" href="#">Change Password</a></li>
                <li><a class="dropdown-item" href="#">Change Username</a></li>
                <li>
                    <hr class="dropdown-divider">
                </li>
                <li><a class="dropdown-item" href="{% url 'userinfo:logout' %}">Logout</a></li>
            </ul>
        </li>
    {% else %}
        <a class="nav-link" href="{% url 'userinfo:registration' %}">Register</a>
        <a class="nav-link" href="{% url 'userinfo:login' %}">Login</a>
    {% endif %}
{% endblock %}


{% block body_block %}
    <table class="table table-hover">
        <thead>
        <tr>
            <th scope="col">#</th>
            <th scope="col">Stock</th>
            <th scope="col">Portfolio</th>
            <th scope="col">Type</th>
            <th scope="col">Buy</th>
            <th scope="col">Strategy</th>
            <th scope="col">Entry</th>
            <th scope="col">StopLoss</th>
            <th scope="col">Target</th>
            <th scope="col">Quantity</th>
            <th scope="col">Exit</th>
            <th scope="col">PL/Trade</th>
            <th scope="col">profile</th>
            <th scope="col">Emotion</th>
            <th scope="col">Mistake</th>
            <th scope="col">Graph</th>
        </tr>
        </thead>
        <tbody>
        {% for record in trade_records %}
            <tr>
                <th scope="row">{{ forloop.counter }}</th>
                <td>{{ record.stock }}</td>
                <td class="table-primary">{{ record.portfolio }}</td>
                <td class="table-secondary">{{ record.stock_type }}</td>
                <td>{{ record.buy_date }}</td>
                <td class="table-dark">{{ record.strategy }}</td>
                <td class="table-info">{{ record.entry }}</td>
                <td class="table-danger">{{ record.stoploss }}</td>
                <td class="table-success">{{ record.target }}</td>
                <td class="table-light">{{ record.quantity }}</td>
                <td class="table-warning">{{ record.exit }}</td>
                <td class="table-danger">{{ record.profit_loss_per_stock }}</td>
                <td class="table-success">{{ record.profile }}</td>
                <td class="table-active">{{ record.emotion }}</td>
                <td class="table-primary">{{ record.mistake }}</td>
                <td><a href="http://127.0.0.1:8000/traderecord/media/{{ record.graph }}">{{ record.graph }}</a></td>

            </tr>
        {% endfor %}
        </tbody>
    </table>



{% endblock %}